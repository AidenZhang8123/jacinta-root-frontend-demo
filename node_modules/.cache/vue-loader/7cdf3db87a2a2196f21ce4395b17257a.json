{"remainingRequest":"/Users/aiden/Desktop/vueSpace/jacinta-root-fontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aiden/Desktop/vueSpace/jacinta-root-fontend/src/views/devices/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aiden/Desktop/vueSpace/jacinta-root-fontend/src/views/devices/index.vue","mtime":1575859680885},{"path":"/Users/aiden/Desktop/vueSpace/jacinta-root-fontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aiden/Desktop/vueSpace/jacinta-root-fontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aiden/Desktop/vueSpace/jacinta-root-fontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aiden/Desktop/vueSpace/jacinta-root-fontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import { gettable } from '@/api/table'\nimport axios from \"axios\";\nexport default {\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: \"success\",\n        draft: \"gray\",\n        deleted: \"danger\"\n      };\n      return statusMap[status];\n    },\n    weixinFilter(status) {}\n  },\n  data() {\n    return {\n      adddeviceform:{\n        nodeid:'',\n        imsi:''\n      },\n\n      //  formLabelWidth: '120px',\n      dialogVisible: false,\n      deviceApi:'http://www.guaji.com/deviceAPI/234KJASFASDF2344',\n      formInline: {\n          user: '',\n          region: ''\n        },\n      // 总数据\n      tableData: [],\n      // 默认显示第几页\n      pageNumber: 1,\n      // 总条数，根据接口获取数据长度(注意：这里不能为空)\n      totalCount: 1,\n      // 个数选择器（可修改）\n      pageSizes: [10, 20, 30, 40],\n      // 默认每页显示的条数（可修改）\n      PageSize: 10,\n      list2: null,\n      listLoading: true\n    };\n  },\n  created() {\n    this.getData();\n  },\n  created: function() {\n    this.getData(this.PageSize, this.pageNumber);\n  },\n  methods: {\n    // 将页码，及每页显示的条数以参数传递提交给后台\n    getData(n1, n2) {\n      axios\n        .post(\n          \"https://www.fastmock.site/mock/13770a7dc728d98faee5bd9a77b7c945/frontend/Openservice/api_devices\",\n          {\n            // 页数\n            // pageNumber: 1,\n            // 每页显示的条数\n            pageSize: n1,\n            // 显示第几页\n            pageNumber: n2\n          },\n          { emulateJSON: true },\n          {\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\"\n            }\n          }\n        )\n        .then(response => {\n          console.log(response);\n          // 将数据赋值给tableData\n          this.tableData = response.data.devices;\n          // 将数据的长度赋值给totalCount\n          this.totalCount = response.data.pageCount;\n        });\n    },\n    // 分页\n    // 每页显示的条数\n    handleSizeChange(val) {\n      // 改变每页显示的条数\n      this.PageSize = val;\n      // 点击每页显示的条数时，显示第一页\n      this.getData(val, 1);\n      // 注意：在改变每页显示的条数时，要将页码显示到第一页\n      this.pageNumber = 1;\n    },\n    // 显示第几页\n    handleCurrentChange(val2) {\n      // 改变默认的页数\n      this.pageNumber = val2;\n      // 切换页码时，要获取每页显示的条数\n      // this.getData(this.PageSize, val2 * this.pageSize);\n      this.getData(this.PageSize, this.pageNumber);\n      // console.log(`当前页: ${val2}`);\n    },\n    filterTag(value, row) {\n      return row.deviceState === value;\n    }\n  }\n};\n",null]}